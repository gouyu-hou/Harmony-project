import router from '@ohos.router';

@Entry
@Component
struct MyOrderPage {
  // å½“å‰é€‰ä¸­çš„ Tab ç´¢å¼•: 0=å…¨éƒ¨, 1=è¿›è¡Œä¸­, 2=å·²å®Œæˆ
  @State currentTabIndex: number = 0;

  // Tab æ ‡é¢˜æ•°ç»„
  tabs: string[] = ['å…¨éƒ¨', 'è¿›è¡Œä¸­', 'å·²å®Œæˆ'];

  build() {
    Column() {
      // 1. è“è‰²èƒŒæ™¯ + é¡¶éƒ¨å¯¼èˆª
      Stack({ alignContent: Alignment.Top }) {
        // çº¯è‰²èƒŒæ™¯å—
        Column().width('100%').height(120).backgroundColor('#0035AA')

        // å¯¼èˆªæ å†…å®¹
        Row() {
          Text('< è¿”å›')
            .fontSize(16).fontColor(Color.White)
            .onClick(() => router.back())
          Text('æˆ‘çš„è®¢å•')
            .fontSize(18).fontWeight(FontWeight.Bold).fontColor(Color.White)
            .layoutWeight(1).textAlign(TextAlign.Center).margin({ right: 40 })
        }
        .width('100%').height(50).padding({ left: 15, right: 15 })
      }
      .height(60) // é™åˆ¶ Stack é«˜åº¦ï¼Œè®©ä¸‹é¢çš„ç™½è‰²å¡ç‰‡è‡ªç„¶ç›–ä¸Šæ¥
      .width('100%')

      // 2. ç™½è‰²å¡ç‰‡åŒºåŸŸ (Tabs + å†…å®¹)
      Column() {
        // --- è‡ªå®šä¹‰ Tab æ  ---
        Row() {
          ForEach(this.tabs, (item: string, index: number) => {
            Column() {
              Text(item)
                .fontSize(14)
                .fontColor(this.currentTabIndex === index ? '#0035AA' : '#666')
                .fontWeight(this.currentTabIndex === index ? FontWeight.Bold : FontWeight.Normal)
                .margin({ bottom: 8 })

              // é€‰ä¸­æ—¶çš„è“è‰²ä¸‹åˆ’çº¿
              if (this.currentTabIndex === index) {
                Divider().width(20).strokeWidth(3).color('#0035AA').borderRadius(2)
              } else {
                // å ä½ï¼Œé˜²æ­¢é«˜åº¦è·³åŠ¨
                Divider().width(20).strokeWidth(3).color(Color.Transparent)
              }
            }
            .layoutWeight(1)
            .height(40)
            .justifyContent(FlexAlign.End)
            .onClick(() => {
              this.currentTabIndex = index;
            })
          })
        }
        .width('100%')
        .border({ width: { bottom: 1 }, color: '#F5F5F5' })

        // --- å†…å®¹åŒºåŸŸ (ç©ºçŠ¶æ€) ---
        Column() {
          // è¿™é‡Œä½¿ç”¨ä¸€ä¸ªç°è‰²çš„å›¾æ ‡æˆ–æ–¹å—ä»£æ›¿ç¼ºçœå›¾
          // å¦‚æœä½ æœ‰å›¾ç‰‡èµ„æºï¼Œè¯·æ›¿æ¢ Image($r('app.media.empty_order'))
          Text('ğŸ”').fontSize(14).fontColor('#999').margin({ left: 10, right: 5 })

          Text('æ²¡æœ‰è®¢å•æ•°æ®!')
            .fontSize(14)
            .fontColor('#999')
        }
        .width('100%')
        .layoutWeight(1) // æ’‘æ»¡å‰©ä½™é«˜åº¦
        .justifyContent(FlexAlign.Center) // å‚ç›´å±…ä¸­
        .backgroundColor(Color.White) // ç¡®ä¿èƒŒæ™¯ç™½

      }
      .width('100%')
      .layoutWeight(1) // æ’‘æ»¡é¡µé¢å‰©ä½™ç©ºé—´
      .backgroundColor(Color.White)
      .borderRadius({ topLeft: 12, topRight: 12 }) // é¡¶éƒ¨åœ†è§’
      .clip(true) // è£å‰ªåœ†è§’
      .margin({ top: -10 }) // ç¨å¾®ä¸Šç§»ä¸€ç‚¹ç‚¹ï¼Œæˆ–è€…ç›´æ¥è´´åˆ
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }
}